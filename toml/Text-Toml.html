<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Text.Toml</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Text-Toml.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">toml-0.1.0.0: TOML parser</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Text.Toml</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Parsing TOML</a><ul><li><a href="#g:2">The parser</a></li><li><a href="#g:3">The TOML AST</a></li></ul></li><li><a href="#g:4">Lenses for TOML</a><ul><li><a href="#g:5">Top-level value lenses</a></li><li><a href="#g:6">Scalar lenses</a></li><li><a href="#g:7">Top-level value prisms</a></li><li><a href="#g:8">Scalar prisms</a></li></ul></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Parsing and traversing TOML, some guy's weird replacement for .ini
 files.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:toml">toml</a> :: (<a href="http://hackage.haskell.org/packages/archive/parsers/0.11.0.3/doc/html/Text-Parser-Token.html#t:TokenParsing">TokenParsing</a> m, <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.1/doc/html/Control-Monad.html#t:MonadPlus">MonadPlus</a> m) =&gt; m <a href="Text-Toml.html#t:Toml">Toml</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:Toml">Toml</a> = <a href="http://hackage.haskell.org/packages/archive/containers/0.5.5.1/doc/html/Data-Map-Lazy.html#t:Map">Map</a> <a href="http://hackage.haskell.org/packages/archive/text/1.1.1.3/doc/html/Data-Text.html#t:Text">Text</a> <a href="Text-Toml.html#t:Value">Value</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Value">Value</a><ul class="subs"><li>= <a href="#v:Table">Table</a> <a href="Text-Toml.html#t:Toml">Toml</a></li><li>| <a href="#v:Tables">Tables</a> (<a href="http://hackage.haskell.org/packages/archive/containers/0.5.5.1/doc/html/Data-Sequence.html#t:Seq">Seq</a> <a href="Text-Toml.html#t:Toml">Toml</a>)</li><li>| <a href="#v:Scalar">Scalar</a> <a href="Text-Toml.html#t:Scalar">Scalar</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Scalar">Scalar</a><ul class="subs"><li>= <a href="#v:String">String</a> <a href="http://hackage.haskell.org/packages/archive/text/1.1.1.3/doc/html/Data-Text.html#t:Text">Text</a></li><li>| <a href="#v:Decimal">Decimal</a> <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.1/doc/html/Prelude.html#t:Integer">Integer</a></li><li>| <a href="#v:Floating">Floating</a> <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.1/doc/html/Prelude.html#t:Double">Double</a></li><li>| <a href="#v:Bool">Bool</a> <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.1/doc/html/Data-Bool.html#t:Bool">Bool</a></li><li>| <a href="#v:Date">Date</a> <a href="http://hackage.haskell.org/packages/archive/time/1.4.2/doc/html/Data-Time-Clock.html#t:UTCTime">UTCTime</a></li><li>| <a href="#v:List">List</a> (<a href="http://hackage.haskell.org/packages/archive/vector/0.10.11.0/doc/html/Data-Vector.html#t:Vector">Vector</a> <a href="Text-Toml.html#t:Scalar">Scalar</a>)</li></ul></li><li class="src short"><a href="#v:table">table</a> :: <a href="http://hackage.haskell.org/packages/archive/text/1.1.1.3/doc/html/Data-Text.html#t:Text">Text</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/lens/4.2/doc/html/Control-Lens-Type.html#t:Traversal-39-">Traversal'</a> <a href="Text-Toml.html#t:Toml">Toml</a> <a href="Text-Toml.html#t:Toml">Toml</a></li><li class="src short"><a href="#v:tables">tables</a> :: <a href="http://hackage.haskell.org/packages/archive/text/1.1.1.3/doc/html/Data-Text.html#t:Text">Text</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/lens/4.2/doc/html/Control-Lens-Type.html#t:Traversal-39-">Traversal'</a> <a href="Text-Toml.html#t:Toml">Toml</a> <a href="Text-Toml.html#t:Toml">Toml</a></li><li class="src short"><a href="#v:scalar">scalar</a> :: <a href="http://hackage.haskell.org/packages/archive/text/1.1.1.3/doc/html/Data-Text.html#t:Text">Text</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/lens/4.2/doc/html/Control-Lens-Type.html#t:Traversal-39-">Traversal'</a> <a href="Text-Toml.html#t:Toml">Toml</a> <a href="Text-Toml.html#t:Scalar">Scalar</a></li><li class="src short"><a href="#v:string">string</a> :: <a href="http://hackage.haskell.org/packages/archive/text/1.1.1.3/doc/html/Data-Text.html#t:Text">Text</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/lens/4.2/doc/html/Control-Lens-Type.html#t:Traversal-39-">Traversal'</a> <a href="Text-Toml.html#t:Toml">Toml</a> <a href="http://hackage.haskell.org/packages/archive/text/1.1.1.3/doc/html/Data-Text.html#t:Text">Text</a></li><li class="src short"><a href="#v:decimal">decimal</a> :: <a href="http://hackage.haskell.org/packages/archive/text/1.1.1.3/doc/html/Data-Text.html#t:Text">Text</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/lens/4.2/doc/html/Control-Lens-Type.html#t:Traversal-39-">Traversal'</a> <a href="Text-Toml.html#t:Toml">Toml</a> <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.1/doc/html/Prelude.html#t:Integer">Integer</a></li><li class="src short"><a href="#v:floating">floating</a> :: <a href="http://hackage.haskell.org/packages/archive/text/1.1.1.3/doc/html/Data-Text.html#t:Text">Text</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/lens/4.2/doc/html/Control-Lens-Type.html#t:Traversal-39-">Traversal'</a> <a href="Text-Toml.html#t:Toml">Toml</a> <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.1/doc/html/Prelude.html#t:Double">Double</a></li><li class="src short"><a href="#v:bool">bool</a> :: <a href="http://hackage.haskell.org/packages/archive/text/1.1.1.3/doc/html/Data-Text.html#t:Text">Text</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/lens/4.2/doc/html/Control-Lens-Type.html#t:Traversal-39-">Traversal'</a> <a href="Text-Toml.html#t:Toml">Toml</a> <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.1/doc/html/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:date">date</a> :: <a href="http://hackage.haskell.org/packages/archive/text/1.1.1.3/doc/html/Data-Text.html#t:Text">Text</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/lens/4.2/doc/html/Control-Lens-Type.html#t:Traversal-39-">Traversal'</a> <a href="Text-Toml.html#t:Toml">Toml</a> <a href="http://hackage.haskell.org/packages/archive/time/1.4.2/doc/html/Data-Time-Clock.html#t:UTCTime">UTCTime</a></li><li class="src short"><a href="#v:list">list</a> :: <a href="http://hackage.haskell.org/packages/archive/text/1.1.1.3/doc/html/Data-Text.html#t:Text">Text</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/lens/4.2/doc/html/Control-Lens-Type.html#t:Traversal-39-">Traversal'</a> <a href="Text-Toml.html#t:Toml">Toml</a> (<a href="http://hackage.haskell.org/packages/archive/vector/0.10.11.0/doc/html/Data-Vector.html#t:Vector">Vector</a> <a href="Text-Toml.html#t:Scalar">Scalar</a>)</li><li class="src short"><a href="#v:listOf">listOf</a> ::  <a href="http://hackage.haskell.org/packages/archive/text/1.1.1.3/doc/html/Data-Text.html#t:Text">Text</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/lens/4.2/doc/html/Control-Lens-Type.html#t:Prism-39-">Prism'</a> <a href="Text-Toml.html#t:Scalar">Scalar</a> p -&gt; <a href="http://hackage.haskell.org/packages/archive/lens/4.2/doc/html/Control-Lens-Type.html#t:Traversal-39-">Traversal'</a> <a href="Text-Toml.html#t:Toml">Toml</a> p</li><li class="src short"><a href="#v:_Table">_Table</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/4.2/doc/html/Control-Lens-Type.html#t:Prism-39-">Prism'</a> <a href="Text-Toml.html#t:Value">Value</a> <a href="Text-Toml.html#t:Toml">Toml</a></li><li class="src short"><a href="#v:_Tables">_Tables</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/4.2/doc/html/Control-Lens-Type.html#t:Prism-39-">Prism'</a> <a href="Text-Toml.html#t:Value">Value</a> (<a href="http://hackage.haskell.org/packages/archive/containers/0.5.5.1/doc/html/Data-Sequence.html#t:Seq">Seq</a> <a href="Text-Toml.html#t:Toml">Toml</a>)</li><li class="src short"><a href="#v:_Scalar">_Scalar</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/4.2/doc/html/Control-Lens-Type.html#t:Prism-39-">Prism'</a> <a href="Text-Toml.html#t:Value">Value</a> <a href="Text-Toml.html#t:Scalar">Scalar</a></li><li class="src short"><a href="#v:_String">_String</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/4.2/doc/html/Control-Lens-Type.html#t:Prism-39-">Prism'</a> <a href="Text-Toml.html#t:Scalar">Scalar</a> <a href="http://hackage.haskell.org/packages/archive/text/1.1.1.3/doc/html/Data-Text.html#t:Text">Text</a></li><li class="src short"><a href="#v:_Decimal">_Decimal</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/4.2/doc/html/Control-Lens-Type.html#t:Prism-39-">Prism'</a> <a href="Text-Toml.html#t:Scalar">Scalar</a> <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.1/doc/html/Prelude.html#t:Integer">Integer</a></li><li class="src short"><a href="#v:_Floating">_Floating</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/4.2/doc/html/Control-Lens-Type.html#t:Prism-39-">Prism'</a> <a href="Text-Toml.html#t:Scalar">Scalar</a> <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.1/doc/html/Prelude.html#t:Double">Double</a></li><li class="src short"><a href="#v:_Bool">_Bool</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/4.2/doc/html/Control-Lens-Type.html#t:Prism-39-">Prism'</a> <a href="Text-Toml.html#t:Scalar">Scalar</a> <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.1/doc/html/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:_Date">_Date</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/4.2/doc/html/Control-Lens-Type.html#t:Prism-39-">Prism'</a> <a href="Text-Toml.html#t:Scalar">Scalar</a> <a href="http://hackage.haskell.org/packages/archive/time/1.4.2/doc/html/Data-Time-Clock.html#t:UTCTime">UTCTime</a></li><li class="src short"><a href="#v:_List">_List</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/4.2/doc/html/Control-Lens-Type.html#t:Prism-39-">Prism'</a> <a href="Text-Toml.html#t:Scalar">Scalar</a> (<a href="http://hackage.haskell.org/packages/archive/vector/0.10.11.0/doc/html/Data-Vector.html#t:Vector">Vector</a> <a href="Text-Toml.html#t:Scalar">Scalar</a>)</li></ul></div><div id="interface"><h1 id="g:1">Parsing TOML</h1><h3 id="g:2">The parser</h3><div class="top"><p class="src"><a name="v:toml" class="def">toml</a> :: (<a href="http://hackage.haskell.org/packages/archive/parsers/0.11.0.3/doc/html/Text-Parser-Token.html#t:TokenParsing">TokenParsing</a> m, <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.1/doc/html/Control-Monad.html#t:MonadPlus">MonadPlus</a> m) =&gt; m <a href="Text-Toml.html#t:Toml">Toml</a></p><div class="doc"><p>Parse some TOML.</p></div></div><h3 id="g:3">The TOML AST</h3><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Toml" class="def">Toml</a> = <a href="http://hackage.haskell.org/packages/archive/containers/0.5.5.1/doc/html/Data-Map-Lazy.html#t:Map">Map</a> <a href="http://hackage.haskell.org/packages/archive/text/1.1.1.3/doc/html/Data-Text.html#t:Text">Text</a> <a href="Text-Toml.html#t:Value">Value</a></p><div class="doc"><p>Represents TOML.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Value" class="def">Value</a></p><div class="doc"><p>Top-level TOML values.</p><pre># dictionary
[some_dictionary]
val1 = &quot;foo&quot;

# list of dictionaries
[[some_item]]
val2 = &quot;bar&quot;

[[some_item]]
val3 = &quot;baz&quot;
</pre></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Table" class="def">Table</a> <a href="Text-Toml.html#t:Toml">Toml</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Tables" class="def">Tables</a> (<a href="http://hackage.haskell.org/packages/archive/containers/0.5.5.1/doc/html/Data-Sequence.html#t:Seq">Seq</a> <a href="Text-Toml.html#t:Toml">Toml</a>)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Scalar" class="def">Scalar</a> <a href="Text-Toml.html#t:Scalar">Scalar</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Value" class="caption collapser" onclick="toggleSection('i:Value')">Instances</p><div id="section.i:Value" class="show"><table><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.7.0.1/doc/html/Data-Eq.html#t:Eq">Eq</a> <a href="Text-Toml.html#t:Value">Value</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.7.0.1/doc/html/Data-Data.html#t:Data">Data</a> <a href="Text-Toml.html#t:Value">Value</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.7.0.1/doc/html/Data-Ord.html#t:Ord">Ord</a> <a href="Text-Toml.html#t:Value">Value</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.7.0.1/doc/html/Text-Read.html#t:Read">Read</a> <a href="Text-Toml.html#t:Value">Value</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.7.0.1/doc/html/Text-Show.html#t:Show">Show</a> <a href="Text-Toml.html#t:Value">Value</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.7.0.1/doc/html/Data-String.html#t:IsString">IsString</a> <a href="Text-Toml.html#t:Toml">Toml</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/aeson/0.7.0.6/doc/html/Data-Aeson-Types.html#t:ToJSON">ToJSON</a> <a href="Text-Toml.html#t:Value">Value</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/deepseq/1.3.0.2/doc/html/Control-DeepSeq.html#t:NFData">NFData</a> <a href="Text-Toml.html#t:Value">Value</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.7.0.1/doc/html/Data-Typeable-Internal.html#t:Typeable">Typeable</a> * <a href="Text-Toml.html#t:Value">Value</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Scalar" class="def">Scalar</a></p><div class="doc"><p>TOML scalar values; i.e., values that can be associated with keys.</p><pre>str = &quot;bar&quot;
decimal = 1
floating = 1.0
date = 1999-12-31T23:59:59Z
boolean = true
list = [ 1, 2, 3, 4, 5 ]
</pre></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:String" class="def">String</a> <a href="http://hackage.haskell.org/packages/archive/text/1.1.1.3/doc/html/Data-Text.html#t:Text">Text</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Decimal" class="def">Decimal</a> <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.1/doc/html/Prelude.html#t:Integer">Integer</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Floating" class="def">Floating</a> <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.1/doc/html/Prelude.html#t:Double">Double</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Bool" class="def">Bool</a> <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.1/doc/html/Data-Bool.html#t:Bool">Bool</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Date" class="def">Date</a> <a href="http://hackage.haskell.org/packages/archive/time/1.4.2/doc/html/Data-Time-Clock.html#t:UTCTime">UTCTime</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:List" class="def">List</a> (<a href="http://hackage.haskell.org/packages/archive/vector/0.10.11.0/doc/html/Data-Vector.html#t:Vector">Vector</a> <a href="Text-Toml.html#t:Scalar">Scalar</a>)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Scalar" class="caption collapser" onclick="toggleSection('i:Scalar')">Instances</p><div id="section.i:Scalar" class="show"><table><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.7.0.1/doc/html/Data-Eq.html#t:Eq">Eq</a> <a href="Text-Toml.html#t:Scalar">Scalar</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.7.0.1/doc/html/Data-Data.html#t:Data">Data</a> <a href="Text-Toml.html#t:Scalar">Scalar</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.7.0.1/doc/html/Data-Ord.html#t:Ord">Ord</a> <a href="Text-Toml.html#t:Scalar">Scalar</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.7.0.1/doc/html/Text-Read.html#t:Read">Read</a> <a href="Text-Toml.html#t:Scalar">Scalar</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.7.0.1/doc/html/Text-Show.html#t:Show">Show</a> <a href="Text-Toml.html#t:Scalar">Scalar</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/aeson/0.7.0.6/doc/html/Data-Aeson-Types.html#t:ToJSON">ToJSON</a> <a href="Text-Toml.html#t:Scalar">Scalar</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/deepseq/1.3.0.2/doc/html/Control-DeepSeq.html#t:NFData">NFData</a> <a href="Text-Toml.html#t:Scalar">Scalar</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/packages/archive/base/4.7.0.1/doc/html/Data-Typeable-Internal.html#t:Typeable">Typeable</a> * <a href="Text-Toml.html#t:Scalar">Scalar</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h1 id="g:4">Lenses for TOML</h1><div class="doc"><p>Traversing anything JSON-like in Haskell is usually a huge pain unless
 you can conceive some kind of convenient DSL for it. In this case we use
 utilities provided by the <code>lens</code> package.</p><p>Here's an example document; it's similar to the
 <a href="https://github.com/toml-lang/toml#example">example on GitHub</a>,
 with the exception that the 'servers' table is now a list. This more
 easily showcases some of the possibilities with the given lenses:</p><pre># This is a TOML document. Boom.

title = &quot;TOML Example&quot;

[owner]
name = &quot;Tom Preston-Werner&quot;
organization = &quot;GitHub&quot;
bio = &quot;GitHub Cofounder &amp; CEO\nLikes tater tots and beer.&quot;
dob = 1979-05-27T07:32:00Z # First class dates? Why not?

[database]
server = &quot;192.168.1.1&quot;
ports = [ 8001, 8001, 8002 ]
connection_max = 5000
enabled = true

[[servers]]
name = &quot;alpha&quot;
ip = &quot;10.0.0.1&quot;
dc = &quot;eqdc10&quot;

[[servers]]
name = &quot;beta&quot;
ip = &quot;10.0.0.2&quot;
dc = &quot;eqdc10&quot;

[clients]
data = [ [&quot;gamma&quot;, &quot;delta&quot;], [1, 2] ]

# Line breaks are OK when inside arrays
hosts = [
  &quot;alpha&quot;,
  &quot;omega&quot;
]
</pre><p>You can easily parse it using <code><a href="Text-Toml.html#v:toml">toml</a></code>:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>Just ast &lt;- parseFromFile toml &quot;example.txt&quot;
</code></strong></pre><p>Using the functions that <code>lens</code> provides and the combinators here, you
 can then traverse deeply into the resultant structure to retrieve data:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ast ^? table &quot;owner&quot; . string &quot;bio&quot; -- find Tom's bio
</code></strong>Just &quot;GitHub Cofounder &amp; CEO\nLikes tater tots and beer.&quot;
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ast ^.. tables &quot;servers&quot; . string &quot;ip&quot; -- list every server IP
</code></strong>[&quot;10.0.0.1&quot;,&quot;10.0.0.2&quot;]
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ast ^.. table &quot;database&quot; . listOf &quot;ports&quot; _Decimal -- get database ports
</code></strong>[8001,8001,8002]
</pre><p>You can even modify the AST:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let newHosts = ast &amp; table &quot;clients&quot; . listOf &quot;hosts&quot; _String %~ T.reverse
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>newHosts ^? table &quot;clients&quot; . list &quot;hosts&quot;
</code></strong>Just (fromList [String &quot;ahpla&quot;,String &quot;agemo&quot;])
</pre></div><h3 id="g:5">Top-level value lenses</h3><div class="top"><p class="src"><a name="v:table" class="def">table</a> :: <a href="http://hackage.haskell.org/packages/archive/text/1.1.1.3/doc/html/Data-Text.html#t:Text">Text</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/lens/4.2/doc/html/Control-Lens-Type.html#t:Traversal-39-">Traversal'</a> <a href="Text-Toml.html#t:Toml">Toml</a> <a href="Text-Toml.html#t:Toml">Toml</a></p><div class="doc"><p>Traverse a TOML table, given a key name.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>&quot;[foo]&quot; ^? table &quot;foo&quot;
</code></strong>Just (fromList [])
</pre></div></div><div class="top"><p class="src"><a name="v:tables" class="def">tables</a> :: <a href="http://hackage.haskell.org/packages/archive/text/1.1.1.3/doc/html/Data-Text.html#t:Text">Text</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/lens/4.2/doc/html/Control-Lens-Type.html#t:Traversal-39-">Traversal'</a> <a href="Text-Toml.html#t:Toml">Toml</a> <a href="Text-Toml.html#t:Toml">Toml</a></p><div class="doc"><p>Traverse a list of TOML tables, given their shared key name.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>&quot;[[foo]]\n[[foo]]&quot; &amp; lengthOf (tables &quot;foo&quot;)
</code></strong>2
</pre></div></div><div class="top"><p class="src"><a name="v:scalar" class="def">scalar</a> :: <a href="http://hackage.haskell.org/packages/archive/text/1.1.1.3/doc/html/Data-Text.html#t:Text">Text</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/lens/4.2/doc/html/Control-Lens-Type.html#t:Traversal-39-">Traversal'</a> <a href="Text-Toml.html#t:Toml">Toml</a> <a href="Text-Toml.html#t:Scalar">Scalar</a></p><div class="doc"><p>Target a generic <code><a href="Text-Toml.html#t:Scalar">Scalar</a></code> value.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>&quot;foo = \&quot;bar\&quot;&quot; ^? scalar &quot;foo&quot;
</code></strong>Just (String &quot;bar&quot;)
</pre></div></div><h3 id="g:6">Scalar lenses</h3><div class="top"><p class="src"><a name="v:string" class="def">string</a> :: <a href="http://hackage.haskell.org/packages/archive/text/1.1.1.3/doc/html/Data-Text.html#t:Text">Text</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/lens/4.2/doc/html/Control-Lens-Type.html#t:Traversal-39-">Traversal'</a> <a href="Text-Toml.html#t:Toml">Toml</a> <a href="http://hackage.haskell.org/packages/archive/text/1.1.1.3/doc/html/Data-Text.html#t:Text">Text</a></p><div class="doc"><p>Given a key name, target a <code><a href="http://hackage.haskell.org/packages/archive/base/4.7.0.1/doc/html/Data-String.html#t:String">String</a></code> value. Will fail if the key is
 present, but is not a <code><a href="http://hackage.haskell.org/packages/archive/base/4.7.0.1/doc/html/Data-String.html#t:String">String</a></code>.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>&quot;foo = \&quot;bar\&quot;&quot; ^? string &quot;foo&quot;
</code></strong>Just &quot;bar&quot;
</pre></div></div><div class="top"><p class="src"><a name="v:decimal" class="def">decimal</a> :: <a href="http://hackage.haskell.org/packages/archive/text/1.1.1.3/doc/html/Data-Text.html#t:Text">Text</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/lens/4.2/doc/html/Control-Lens-Type.html#t:Traversal-39-">Traversal'</a> <a href="Text-Toml.html#t:Toml">Toml</a> <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.1/doc/html/Prelude.html#t:Integer">Integer</a></p><div class="doc"><p>Given a key name, target a <code><a href="Text-Toml.html#v:Decimal">Decimal</a></code> value. Will fail if the key is
 present, but is not a <code><a href="Text-Toml.html#v:Decimal">Decimal</a></code>.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>&quot;foo = 1234&quot; ^? decimal &quot;foo&quot;
</code></strong>Just 1234
</pre></div></div><div class="top"><p class="src"><a name="v:floating" class="def">floating</a> :: <a href="http://hackage.haskell.org/packages/archive/text/1.1.1.3/doc/html/Data-Text.html#t:Text">Text</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/lens/4.2/doc/html/Control-Lens-Type.html#t:Traversal-39-">Traversal'</a> <a href="Text-Toml.html#t:Toml">Toml</a> <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.1/doc/html/Prelude.html#t:Double">Double</a></p><div class="doc"><p>Given a key name, target a <code><a href="http://hackage.haskell.org/packages/archive/base/4.7.0.1/doc/html/Prelude.html#t:Floating">Floating</a></code> value. Will fail if the key is
 present, but is not <code><a href="http://hackage.haskell.org/packages/archive/base/4.7.0.1/doc/html/Prelude.html#t:Floating">Floating</a></code>.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>&quot;foo = 1234.567&quot; ^? floating &quot;foo&quot;
</code></strong>Just 1234.567
</pre></div></div><div class="top"><p class="src"><a name="v:bool" class="def">bool</a> :: <a href="http://hackage.haskell.org/packages/archive/text/1.1.1.3/doc/html/Data-Text.html#t:Text">Text</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/lens/4.2/doc/html/Control-Lens-Type.html#t:Traversal-39-">Traversal'</a> <a href="Text-Toml.html#t:Toml">Toml</a> <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.1/doc/html/Data-Bool.html#t:Bool">Bool</a></p><div class="doc"><p>Given a key name, target a <code><a href="http://hackage.haskell.org/packages/archive/base/4.7.0.1/doc/html/Data-Bool.html#t:Bool">Bool</a></code> value. Will fail if the key is
 present, but is not a <code><a href="http://hackage.haskell.org/packages/archive/base/4.7.0.1/doc/html/Data-Bool.html#t:Bool">Bool</a></code>.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>&quot;foo = false&quot; ^? bool &quot;foo&quot;
</code></strong>Just False
</pre></div></div><div class="top"><p class="src"><a name="v:date" class="def">date</a> :: <a href="http://hackage.haskell.org/packages/archive/text/1.1.1.3/doc/html/Data-Text.html#t:Text">Text</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/lens/4.2/doc/html/Control-Lens-Type.html#t:Traversal-39-">Traversal'</a> <a href="Text-Toml.html#t:Toml">Toml</a> <a href="http://hackage.haskell.org/packages/archive/time/1.4.2/doc/html/Data-Time-Clock.html#t:UTCTime">UTCTime</a></p><div class="doc"><p>Given a key name, target a <code><a href="Text-Toml.html#v:Date">Date</a></code> value. Will fail if the key is
 present, but is not a <code><a href="Text-Toml.html#v:Date">Date</a></code>.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>&quot;foo = 1994-04-28T05:30:22Z&quot; ^? date &quot;foo&quot;
</code></strong>Just 1994-04-28 05:30:22 UTC
</pre></div></div><div class="top"><p class="src"><a name="v:list" class="def">list</a> :: <a href="http://hackage.haskell.org/packages/archive/text/1.1.1.3/doc/html/Data-Text.html#t:Text">Text</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/lens/4.2/doc/html/Control-Lens-Type.html#t:Traversal-39-">Traversal'</a> <a href="Text-Toml.html#t:Toml">Toml</a> (<a href="http://hackage.haskell.org/packages/archive/vector/0.10.11.0/doc/html/Data-Vector.html#t:Vector">Vector</a> <a href="Text-Toml.html#t:Scalar">Scalar</a>)</p><div class="doc"><p>Given a key name, target a <code><a href="Text-Toml.html#v:List">List</a></code> value. Will fail if the key is
 present, but is not a <code><a href="Text-Toml.html#v:List">List</a></code>.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>&quot;foo = [1, 2, 3]&quot; ^? list &quot;foo&quot;
</code></strong>Just (fromList [Decimal 1,Decimal 2,Decimal 3])
</pre></div></div><div class="top"><p class="src"><a name="v:listOf" class="def">listOf</a> ::  <a href="http://hackage.haskell.org/packages/archive/text/1.1.1.3/doc/html/Data-Text.html#t:Text">Text</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/lens/4.2/doc/html/Control-Lens-Type.html#t:Prism-39-">Prism'</a> <a href="Text-Toml.html#t:Scalar">Scalar</a> p -&gt; <a href="http://hackage.haskell.org/packages/archive/lens/4.2/doc/html/Control-Lens-Type.html#t:Traversal-39-">Traversal'</a> <a href="Text-Toml.html#t:Toml">Toml</a> p</p><div class="doc"><p>Given a key name and a prism, target all the elements of a <code><a href="Text-Toml.html#v:List">List</a></code> that
 match the prism. Will fail if the key is present, but is not a <code><a href="Text-Toml.html#v:List">List</a></code>.
 Will fail if the list elements do not match the prism. (In TOML,
 lists are homogeneous, so you will always either retrieve the whole list
 or none of it.)</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>&quot;foo = [1, 2, 3]&quot; ^.. listOf &quot;foo&quot; _Decimal
</code></strong>[1,2,3]
</pre></div></div><h3 id="g:7">Top-level value prisms</h3><div class="top"><p class="src"><a name="v:_Table" class="def">_Table</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/4.2/doc/html/Control-Lens-Type.html#t:Prism-39-">Prism'</a> <a href="Text-Toml.html#t:Value">Value</a> <a href="Text-Toml.html#t:Toml">Toml</a></p><div class="doc"><p>Focus on a table</p></div></div><div class="top"><p class="src"><a name="v:_Tables" class="def">_Tables</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/4.2/doc/html/Control-Lens-Type.html#t:Prism-39-">Prism'</a> <a href="Text-Toml.html#t:Value">Value</a> (<a href="http://hackage.haskell.org/packages/archive/containers/0.5.5.1/doc/html/Data-Sequence.html#t:Seq">Seq</a> <a href="Text-Toml.html#t:Toml">Toml</a>)</p><div class="doc"><p>Focus on a list of tables</p></div></div><div class="top"><p class="src"><a name="v:_Scalar" class="def">_Scalar</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/4.2/doc/html/Control-Lens-Type.html#t:Prism-39-">Prism'</a> <a href="Text-Toml.html#t:Value">Value</a> <a href="Text-Toml.html#t:Scalar">Scalar</a></p><div class="doc"><p>Focus on a scalar</p></div></div><h3 id="g:8">Scalar prisms</h3><div class="top"><p class="src"><a name="v:_String" class="def">_String</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/4.2/doc/html/Control-Lens-Type.html#t:Prism-39-">Prism'</a> <a href="Text-Toml.html#t:Scalar">Scalar</a> <a href="http://hackage.haskell.org/packages/archive/text/1.1.1.3/doc/html/Data-Text.html#t:Text">Text</a></p><div class="doc"><p>Focus on a <code><a href="http://hackage.haskell.org/packages/archive/base/4.7.0.1/doc/html/Data-String.html#t:String">String</a></code></p></div></div><div class="top"><p class="src"><a name="v:_Decimal" class="def">_Decimal</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/4.2/doc/html/Control-Lens-Type.html#t:Prism-39-">Prism'</a> <a href="Text-Toml.html#t:Scalar">Scalar</a> <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.1/doc/html/Prelude.html#t:Integer">Integer</a></p><div class="doc"><p>Focus on a <code><a href="Text-Toml.html#v:Decimal">Decimal</a></code></p></div></div><div class="top"><p class="src"><a name="v:_Floating" class="def">_Floating</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/4.2/doc/html/Control-Lens-Type.html#t:Prism-39-">Prism'</a> <a href="Text-Toml.html#t:Scalar">Scalar</a> <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.1/doc/html/Prelude.html#t:Double">Double</a></p><div class="doc"><p>Focus on a <code><a href="http://hackage.haskell.org/packages/archive/base/4.7.0.1/doc/html/Prelude.html#t:Floating">Floating</a></code></p></div></div><div class="top"><p class="src"><a name="v:_Bool" class="def">_Bool</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/4.2/doc/html/Control-Lens-Type.html#t:Prism-39-">Prism'</a> <a href="Text-Toml.html#t:Scalar">Scalar</a> <a href="http://hackage.haskell.org/packages/archive/base/4.7.0.1/doc/html/Data-Bool.html#t:Bool">Bool</a></p><div class="doc"><p>Focus on a <code><a href="http://hackage.haskell.org/packages/archive/base/4.7.0.1/doc/html/Data-Bool.html#t:Bool">Bool</a></code></p></div></div><div class="top"><p class="src"><a name="v:_Date" class="def">_Date</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/4.2/doc/html/Control-Lens-Type.html#t:Prism-39-">Prism'</a> <a href="Text-Toml.html#t:Scalar">Scalar</a> <a href="http://hackage.haskell.org/packages/archive/time/1.4.2/doc/html/Data-Time-Clock.html#t:UTCTime">UTCTime</a></p><div class="doc"><p>Focus on a <code><a href="Text-Toml.html#v:Date">Date</a></code></p></div></div><div class="top"><p class="src"><a name="v:_List" class="def">_List</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/4.2/doc/html/Control-Lens-Type.html#t:Prism-39-">Prism'</a> <a href="Text-Toml.html#t:Scalar">Scalar</a> (<a href="http://hackage.haskell.org/packages/archive/vector/0.10.11.0/doc/html/Data-Vector.html#t:Vector">Vector</a> <a href="Text-Toml.html#t:Scalar">Scalar</a>)</p><div class="doc"><p>Focus on a <code><a href="Text-Toml.html#v:List">List</a></code></p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.14.3</p></div></body></html>